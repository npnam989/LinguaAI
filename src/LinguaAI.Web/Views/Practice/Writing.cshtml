@{
    ViewData["Title"] = "Luy·ªán Vi·∫øt";
    Layout = "_Layout";
}

<div class="container" style="padding-top: 100px;">
    <div class="text-center mb-4">
        <h1 class="text-gradient">‚úçÔ∏è Luy·ªán Vi·∫øt</h1>
        <p style="color: var(--text-secondary);">Vi·∫øt b√†i v√† nh·∫≠n ph·∫£n h·ªìi chi ti·∫øt t·ª´ AI</p>
    </div>

    <!-- Settings -->
    <div class="glass-panel" style="padding: var(--space-lg); margin-bottom: var(--space-xl);">
        <div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
            <div>
                <label style="color: var(--text-secondary); font-size: 0.875rem;">Ng√¥n ng·ªØ</label>
                <select id="languageSelect" class="input-field" style="width: auto;">
                    <option value="ko">üá∞üá∑ Ti·∫øng H√†n</option>
                    <option value="zh">üá®üá≥ Ti·∫øng Trung</option>
                    <option value="en">üá∫üá∏ Ti·∫øng Anh</option>
                </select>
            </div>
            <div>
                <label style="color: var(--text-secondary); font-size: 0.875rem;">Tr√¨nh ƒë·ªô</label>
                <select id="levelSelect" class="input-field" style="width: auto;">
                    <option value="beginner">S∆° c·∫•p</option>
                    <option value="intermediate" selected>Trung c·∫•p</option>
                    <option value="advanced">Cao c·∫•p</option>
                </select>
            </div>
        </div>
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-xl);">
        <!-- Input Area -->
        <div class="card">
            <h3 class="mb-3">üìù B√†i vi·∫øt c·ªßa b·∫°n</h3>
            <textarea id="writingInput" class="input-field" rows="12" placeholder="Vi·∫øt b√†i c·ªßa b·∫°n ·ªü ƒë√¢y..."></textarea>
            <button class="btn btn-primary mt-3" onclick="checkWriting()" style="width: 100%;">
                ‚ú® Ki·ªÉm tra b√†i vi·∫øt
            </button>
        </div>

        <!-- Result Area -->
        <div class="card">
            <h3 class="mb-3">üìä K·∫øt qu·∫£ ph√¢n t√≠ch</h3>
            
            <div id="loadingArea" class="hidden text-center" style="padding: var(--space-2xl);">
                <div class="spinner" style="margin: 0 auto var(--space-lg);"></div>
                <p style="color: var(--text-muted);">ƒêang ph√¢n t√≠ch...</p>
            </div>

            <div id="resultArea" class="hidden">
                <!-- Corrected Text -->
                <div style="margin-bottom: var(--space-xl);">
                    <h4 style="color: var(--accent-green); margin-bottom: var(--space-sm);">‚úÖ B·∫£n s·ª≠a</h4>
                    <div id="correctedText" class="glass-panel" style="padding: var(--space-md);"></div>
                </div>

                <!-- Corrections List -->
                <div id="correctionsArea" style="margin-bottom: var(--space-xl);">
                    <h4 style="color: var(--accent-gold); margin-bottom: var(--space-sm);">üîç Chi ti·∫øt l·ªói</h4>
                    <div id="correctionsList"></div>
                </div>

                <!-- Suggestions -->
                <div id="suggestionsArea">
                    <h4 style="color: var(--primary-light); margin-bottom: var(--space-sm);">üí° G·ª£i √Ω c·∫£i thi·ªán</h4>
                    <ul id="suggestionsList" style="color: var(--text-secondary); padding-left: var(--space-lg);"></ul>
                </div>
            </div>

            <div id="emptyState" style="text-align: center; padding: var(--space-2xl); color: var(--text-muted);">
                <p>Vi·∫øt b√†i v√† nh·∫•n "Ki·ªÉm tra" ƒë·ªÉ nh·∫≠n ph·∫£n h·ªìi</p>
            </div>
        </div>
    </div>
</div>

@section Scripts {
<script src="~/js/writing.js" asp-append-version="true"></script>
}
