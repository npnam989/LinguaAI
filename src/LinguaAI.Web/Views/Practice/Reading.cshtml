@{
    ViewData["Title"] = "Luyá»‡n Äá»c";
    Layout = "_Layout";
}

<div class="container" style="padding-top: 100px;">
    <div class="text-center mb-4">
        <h1 class="text-gradient">ğŸ“– Luyá»‡n Äá»c Hiá»ƒu</h1>
        <p style="color: var(--text-secondary);">Äá»c bÃ i vÃ  tráº£ lá»i cÃ¢u há»i</p>
    </div>

    <!-- Settings -->
    <div class="glass-panel text-center" style="padding: var(--space-lg); margin-bottom: var(--space-xl);">
        <select id="languageSelect" class="input-field" style="width: auto; display: inline-block;">
            <option value="ko">ğŸ‡°ğŸ‡· Tiáº¿ng HÃ n</option>
            <option value="zh">ğŸ‡¨ğŸ‡³ Tiáº¿ng Trung</option>
            <option value="en">ğŸ‡ºğŸ‡¸ Tiáº¿ng Anh</option>
        </select>
        <select id="levelSelect" class="input-field" style="width: auto; display: inline-block;">
            <option value="beginner">SÆ¡ cáº¥p</option>
            <option value="intermediate" selected>Trung cáº¥p</option>
            <option value="advanced">Cao cáº¥p</option>
        </select>
        <select id="topicSelect" class="input-field" style="width: auto; display: inline-block;">
            <option value="">ğŸ² Chá»§ Ä‘á» ngáº«u nhiÃªn</option>
            <option value="culture">ğŸ›ï¸ VÄƒn hÃ³a</option>
            <option value="food">ğŸœ áº¨m thá»±c</option>
            <option value="travel">âœˆï¸ Du lá»‹ch</option>
            <option value="technology">ğŸ’» CÃ´ng nghá»‡</option>
            <option value="nature">ğŸŒ¿ ThiÃªn nhiÃªn</option>
        </select>
        <button class="btn btn-primary" onclick="generateReading()">ğŸ“„ Táº¡o bÃ i Ä‘á»c</button>
    </div>

    <!-- Loading -->
    <div id="loadingArea" class="hidden text-center" style="padding: var(--space-3xl);">
        <div class="spinner" style="margin: 0 auto var(--space-lg);"></div>
        <p style="color: var(--text-muted);">Äang táº¡o bÃ i Ä‘á»c...</p>
    </div>

    <!-- Content Area -->
    <div id="contentArea" class="hidden">
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: var(--space-xl);">
            <!-- Reading Content -->
            <div class="card">
                <h2 id="readingTitle" style="margin-bottom: var(--space-lg);"></h2>
                <div id="readingContent" style="font-size: 1.1rem; line-height: 1.8; color: var(--text-secondary);"></div>
            </div>

            <!-- Vocabulary -->
            <div>
                <div class="card" style="margin-bottom: var(--space-xl);">
                    <h3 class="mb-3">ğŸ“š Tá»« vá»±ng</h3>
                    <div id="vocabularyList"></div>
                </div>
            </div>
        </div>

        <!-- Quiz -->
        <div class="card" style="margin-top: var(--space-xl);">
            <h3 class="mb-3">â“ CÃ¢u há»i Ä‘á»c hiá»ƒu</h3>
            
            <!-- Timer Display inside Quiz Card or separately? -->
            <div id="timerContainer" class="text-right mb-3" style="font-size: 1.2rem; font-weight: bold; color: var(--accent-gold);">
                â±ï¸ <span id="timeDisplay">00:00</span>
            </div>

            <div id="quizArea"></div>
            
            <div class="d-flex gap-3 mt-3">
                <button id="checkAnswersBtn" class="btn btn-primary hidden" onclick="checkAnswers()">Kiá»ƒm tra Ä‘Ã¡p Ã¡n</button>
                <button id="nextLessonBtn" class="btn btn-secondary hidden" onclick="generateReading()">BÃ i tiáº¿p theo â¡</button>
            </div>
            
            <div id="quizResult" class="hidden" style="margin-top: var(--space-lg);"></div>
        </div>
    </div>

    <!-- Empty State -->
    <div id="emptyState" class="card text-center" style="padding: var(--space-3xl);">
        <p style="font-size: 3rem;">ğŸ“–</p>
        <p style="color: var(--text-muted);">Chá»n ngÃ´n ngá»¯ vÃ  nháº¥n "Táº¡o bÃ i Ä‘á»c" Ä‘á»ƒ báº¯t Ä‘áº§u</p>
    </div>
</div>

@section Scripts {
<script src="~/js/reading.js" asp-append-version="true"></script>
}
